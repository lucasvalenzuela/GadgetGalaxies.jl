<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API ¬∑ GadgetGalaxies.jl</title><link rel="canonical" href="https://lucasvalenzuela.github.io/GadgetGalaxies.jl/api/"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">GadgetGalaxies.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../kinematic_parameters/">Kinematic Parameters</a></li><li class="is-active"><a class="tocitem" href>API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/master/docs/src/api.md#" title="Edit on GitHub"><span class="docs-icon fab">ÔÇõ</span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><ul><li><a href="#GadgetGalaxies.Ellipsoid"><code>GadgetGalaxies.Ellipsoid</code></a></li><li><a href="#GadgetGalaxies.Galaxy-Tuple{Snapshot, Integer, Bool}"><code>GadgetGalaxies.Galaxy</code></a></li><li><a href="#GadgetGalaxies.Galaxy"><code>GadgetGalaxies.Galaxy</code></a></li><li><a href="#GadgetGalaxies.GalaxyGroup-Tuple{Snapshot, Integer, Bool}"><code>GadgetGalaxies.GalaxyGroup</code></a></li><li><a href="#GadgetGalaxies.GalaxyGroup"><code>GadgetGalaxies.GalaxyGroup</code></a></li><li><a href="#GadgetGalaxies.Particles"><code>GadgetGalaxies.Particles</code></a></li><li><a href="#GadgetGalaxies.Snapshot"><code>GadgetGalaxies.Snapshot</code></a></li><li><a href="#GadgetGalaxies.Snapshot-Tuple{Any, Integer}"><code>GadgetGalaxies.Snapshot</code></a></li><li><a href="#GadgetGalaxies.Snapshot-Tuple{}"><code>GadgetGalaxies.Snapshot</code></a></li><li><a href="#GadgetGalaxies.Sphere-Tuple{Number}"><code>GadgetGalaxies.Sphere</code></a></li><li><a href="#GadgetGalaxies.angular_momentum-Tuple{AbstractMatrix{var&quot;#s52&quot;} where var&quot;#s52&quot;&lt;:Number, AbstractMatrix{var&quot;#s51&quot;} where var&quot;#s51&quot;&lt;:Number, Union{Number, AbstractVector{var&quot;#s50&quot;} where var&quot;#s50&quot;&lt;:Number}}"><code>GadgetGalaxies.angular_momentum</code></a></li><li><a href="../kinematic_parameters/#GadgetGalaxies.angular_momentum"><code>GadgetGalaxies.angular_momentum</code></a></li><li><a href="#GadgetGalaxies.b_value-Tuple{AbstractMatrix{var&quot;#s52&quot;} where var&quot;#s52&quot;&lt;:Real, AbstractMatrix{var&quot;#s51&quot;} where var&quot;#s51&quot;&lt;:Real, Union{Number, AbstractVector{var&quot;#s50&quot;} where var&quot;#s50&quot;&lt;:Real}, Real}"><code>GadgetGalaxies.b_value</code></a></li><li><a href="../kinematic_parameters/#GadgetGalaxies.b_value"><code>GadgetGalaxies.b_value</code></a></li><li><a href="#GadgetGalaxies.center_of_mass_iterative-Tuple{GadgetGalaxies.Particles, Number}"><code>GadgetGalaxies.center_of_mass_iterative</code></a></li><li><a href="#GadgetGalaxies.center_of_mass_iterative"><code>GadgetGalaxies.center_of_mass_iterative</code></a></li><li><a href="#GadgetGalaxies.center_of_mass_iterative-Tuple{AbstractMatrix{var&quot;#s27&quot;} where var&quot;#s27&quot;&lt;:Number, AbstractVector{var&quot;#s26&quot;} where var&quot;#s26&quot;&lt;:Number, Number}"><code>GadgetGalaxies.center_of_mass_iterative</code></a></li><li><a href="#GadgetGalaxies.center_of_velocity-Tuple{AbstractMatrix{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:Number, AbstractMatrix{var&quot;#s35&quot;} where var&quot;#s35&quot;&lt;:Number, AbstractVector{var&quot;#s36&quot;} where var&quot;#s36&quot;&lt;:Number, Number}"><code>GadgetGalaxies.center_of_velocity</code></a></li><li><a href="#GadgetGalaxies.center_of_velocity"><code>GadgetGalaxies.center_of_velocity</code></a></li><li><a href="#GadgetGalaxies.center_of_velocity-Tuple{GadgetGalaxies.Particles, Number}"><code>GadgetGalaxies.center_of_velocity</code></a></li><li><a href="#GadgetGalaxies.circular_velocity-Union{Tuple{T2}, Tuple{T1}, Tuple{T1, T2}} where {T1&lt;:AbstractFloat, T2&lt;:AbstractFloat}"><code>GadgetGalaxies.circular_velocity</code></a></li><li><a href="#GadgetGalaxies.convert_units!"><code>GadgetGalaxies.convert_units!</code></a></li><li><a href="#GadgetGalaxies.convert_units_age"><code>GadgetGalaxies.convert_units_age</code></a></li><li><a href="#GadgetGalaxies.convert_units_full"><code>GadgetGalaxies.convert_units_full</code></a></li><li><a href="#GadgetGalaxies.convert_units_mass"><code>GadgetGalaxies.convert_units_mass</code></a></li><li><a href="#GadgetGalaxies.convert_units_physical"><code>GadgetGalaxies.convert_units_physical</code></a></li><li><a href="#GadgetGalaxies.convert_units_pos"><code>GadgetGalaxies.convert_units_pos</code></a></li><li><a href="#GadgetGalaxies.convert_units_solar_metallicity-Tuple{AbstractMatrix{var&quot;#s53&quot;} where var&quot;#s53&quot;&lt;:Number, AbstractVector{var&quot;#s52&quot;} where var&quot;#s52&quot;&lt;:Number}"><code>GadgetGalaxies.convert_units_solar_metallicity</code></a></li><li><a href="#GadgetGalaxies.convert_units_temp"><code>GadgetGalaxies.convert_units_temp</code></a></li><li><a href="#GadgetGalaxies.convert_units_vel"><code>GadgetGalaxies.convert_units_vel</code></a></li><li><a href="#GadgetGalaxies.eccentricity-Tuple{Real}"><code>GadgetGalaxies.eccentricity</code></a></li><li><a href="#GadgetGalaxies.ellipsoidal_mask-Tuple{AbstractMatrix{var&quot;#s51&quot;} where var&quot;#s51&quot;&lt;:Number, Ellipsoid}"><code>GadgetGalaxies.ellipsoidal_mask</code></a></li><li><a href="#GadgetGalaxies.ellipticity-Tuple{Real}"><code>GadgetGalaxies.ellipticity</code></a></li><li><a href="#GadgetGalaxies.fill_ùêà_up!-Tuple{AbstractMatrix{var&quot;#s30&quot;} where var&quot;#s30&quot;&lt;:Real, AbstractMatrix{var&quot;#s29&quot;} where var&quot;#s29&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s28&quot;} where var&quot;#s28&quot;&lt;:Number}, Bool, Symbol}"><code>GadgetGalaxies.fill_ùêà_up!</code></a></li><li><a href="#GadgetGalaxies.half_mass_radius-Tuple{GadgetGalaxies.Particles}"><code>GadgetGalaxies.half_mass_radius</code></a></li><li><a href="#GadgetGalaxies.half_mass_radius-Tuple{AbstractMatrix{var&quot;#s35&quot;} where var&quot;#s35&quot;&lt;:Number, AbstractVector{var&quot;#s34&quot;} where var&quot;#s34&quot;&lt;:Number, AbstractVector{var&quot;#s33&quot;} where var&quot;#s33&quot;&lt;:Number}"><code>GadgetGalaxies.half_mass_radius</code></a></li><li><a href="#GadgetGalaxies.half_mass_radius-Tuple{AbstractMatrix{var&quot;#s51&quot;} where var&quot;#s51&quot;&lt;:Number}"><code>GadgetGalaxies.half_mass_radius</code></a></li><li><a href="#GadgetGalaxies.half_mass_radius_2D-Tuple{AbstractMatrix{var&quot;#s39&quot;} where var&quot;#s39&quot;&lt;:Number, AbstractVector{var&quot;#s38&quot;} where var&quot;#s38&quot;&lt;:Number}"><code>GadgetGalaxies.half_mass_radius_2D</code></a></li><li><a href="#GadgetGalaxies.half_mass_radius_2D-Tuple{GadgetGalaxies.Particles}"><code>GadgetGalaxies.half_mass_radius_2D</code></a></li><li><a href="#GadgetGalaxies.inertia_matrix-Tuple{AbstractMatrix{var&quot;#s31&quot;} where var&quot;#s31&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s30&quot;} where var&quot;#s30&quot;&lt;:Number}}"><code>GadgetGalaxies.inertia_matrix</code></a></li><li><a href="#GadgetGalaxies.inertia_matrix_iterative-Tuple{AbstractMatrix{var&quot;#s29&quot;} where var&quot;#s29&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s28&quot;} where var&quot;#s28&quot;&lt;:Number}, Symbol}"><code>GadgetGalaxies.inertia_matrix_iterative</code></a></li><li><a href="#GadgetGalaxies.is_main_halo-Tuple{Galaxy}"><code>GadgetGalaxies.is_main_halo</code></a></li><li><a href="#GadgetGalaxies.particle_type_id-Tuple{Symbol}"><code>GadgetGalaxies.particle_type_id</code></a></li><li><a href="#GadgetGalaxies.read_galaxy_pos"><code>GadgetGalaxies.read_galaxy_pos</code></a></li><li><a href="#GadgetGalaxies.read_galaxy_prop"><code>GadgetGalaxies.read_galaxy_prop</code></a></li><li><a href="#GadgetGalaxies.read_galaxy_vel"><code>GadgetGalaxies.read_galaxy_vel</code></a></li><li><a href="#GadgetGalaxies.read_halo!-Tuple{GadgetGalaxies.AbstractGalaxy}"><code>GadgetGalaxies.read_halo!</code></a></li><li><a href="#GadgetGalaxies.read_header_particle_mass"><code>GadgetGalaxies.read_header_particle_mass</code></a></li><li><a href="#GadgetGalaxies.read_redshift-Tuple{Snapshot}"><code>GadgetGalaxies.read_redshift</code></a></li><li><a href="#GadgetGalaxies.rotate-Tuple{AbstractMatrix{var&quot;#s32&quot;} where var&quot;#s32&quot;&lt;:Number, AbstractMatrix{var&quot;#s31&quot;} where var&quot;#s31&quot;&lt;:Real}"><code>GadgetGalaxies.rotate</code></a></li><li><a href="#GadgetGalaxies.rotate-Tuple{GadgetGalaxies.AbstractGalaxy, AbstractMatrix{var&quot;#s31&quot;} where var&quot;#s31&quot;&lt;:Real}"><code>GadgetGalaxies.rotate</code></a></li><li><a href="#GadgetGalaxies.rotate-Tuple{GadgetGalaxies.Particles, AbstractMatrix{var&quot;#s32&quot;} where var&quot;#s32&quot;&lt;:Real}"><code>GadgetGalaxies.rotate</code></a></li><li><a href="#GadgetGalaxies.rotate_edgeon-Tuple{GadgetGalaxies.Particles}"><code>GadgetGalaxies.rotate_edgeon</code></a></li><li><a href="#GadgetGalaxies.rotate_edgeon"><code>GadgetGalaxies.rotate_edgeon</code></a></li><li><a href="#GadgetGalaxies.rotation_matrix_2D-Tuple{GadgetGalaxies.Particles}"><code>GadgetGalaxies.rotation_matrix_2D</code></a></li><li><a href="#GadgetGalaxies.rotation_matrix_axis_ratios-Tuple{AbstractMatrix{var&quot;#s50&quot;} where var&quot;#s50&quot;&lt;:Real}"><code>GadgetGalaxies.rotation_matrix_axis_ratios</code></a></li><li><a href="#GadgetGalaxies.rotation_matrix_edgeon-Tuple{GadgetGalaxies.Particles}"><code>GadgetGalaxies.rotation_matrix_edgeon</code></a></li><li><a href="#GadgetGalaxies.rotation_matrix_to_3d-Union{Tuple{T}, Tuple{AbstractMatrix{T}, AbstractVector{var&quot;#s52&quot;} where var&quot;#s52&quot;&lt;:Integer}} where T&lt;:Real"><code>GadgetGalaxies.rotation_matrix_to_3d</code></a></li><li><a href="#GadgetGalaxies.r¬≤_circle-Tuple{AbstractMatrix{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Number}"><code>GadgetGalaxies.r¬≤_circle</code></a></li><li><a href="#GadgetGalaxies.r¬≤_ellipsoid-Tuple{AbstractMatrix{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Number, Real, Nothing}"><code>GadgetGalaxies.r¬≤_ellipsoid</code></a></li><li><a href="#GadgetGalaxies.r¬≤_ellipsoid-Tuple{AbstractMatrix{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Number, Real, Real}"><code>GadgetGalaxies.r¬≤_ellipsoid</code></a></li><li><a href="#GadgetGalaxies.r¬≤_sphere-Tuple{AbstractMatrix{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Number}"><code>GadgetGalaxies.r¬≤_sphere</code></a></li><li><a href="#GadgetGalaxies.shift_across_box_border-NTuple{4, Number}"><code>GadgetGalaxies.shift_across_box_border</code></a></li><li><a href="#GadgetGalaxies.simulation_units_mass"><code>GadgetGalaxies.simulation_units_mass</code></a></li><li><a href="#GadgetGalaxies.simulation_units_pos"><code>GadgetGalaxies.simulation_units_pos</code></a></li><li><a href="#GadgetGalaxies.simulation_units_temp"><code>GadgetGalaxies.simulation_units_temp</code></a></li><li><a href="#GadgetGalaxies.simulation_units_vel"><code>GadgetGalaxies.simulation_units_vel</code></a></li><li><a href="#GadgetGalaxies.specific_angular_momentum-Tuple{AbstractMatrix{var&quot;#s35&quot;} where var&quot;#s35&quot;&lt;:Number, AbstractMatrix{var&quot;#s34&quot;} where var&quot;#s34&quot;&lt;:Number, Union{Number, AbstractVector{var&quot;#s33&quot;} where var&quot;#s33&quot;&lt;:Number}}"><code>GadgetGalaxies.specific_angular_momentum</code></a></li><li><a href="../kinematic_parameters/#GadgetGalaxies.specific_angular_momentum"><code>GadgetGalaxies.specific_angular_momentum</code></a></li><li><a href="#GadgetGalaxies.spin_parameter-Tuple{GadgetGalaxies.AbstractGalaxy, Number, Number}"><code>GadgetGalaxies.spin_parameter</code></a></li><li><a href="#GadgetGalaxies.spin_parameter-Tuple{AbstractVector{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Number, Number, Number}"><code>GadgetGalaxies.spin_parameter</code></a></li><li><a href="#GadgetGalaxies.translate"><code>GadgetGalaxies.translate</code></a></li><li><a href="#GadgetGalaxies.translate"><code>GadgetGalaxies.translate</code></a></li><li><a href="#GadgetGalaxies.translate_to_center_of_mass_iterative"><code>GadgetGalaxies.translate_to_center_of_mass_iterative</code></a></li><li><a href="#GadgetGalaxies.translate_to_center_of_mass_iterative-Tuple{GadgetGalaxies.Particles, Number}"><code>GadgetGalaxies.translate_to_center_of_mass_iterative</code></a></li><li><a href="#GadgetGalaxies.translate_to_center_of_velocity"><code>GadgetGalaxies.translate_to_center_of_velocity</code></a></li><li><a href="#GadgetGalaxies.translate_to_center_of_velocity-Tuple{GadgetGalaxies.Particles, Number}"><code>GadgetGalaxies.translate_to_center_of_velocity</code></a></li><li><a href="#GadgetGalaxies.triaxiality-Tuple{Real, Real}"><code>GadgetGalaxies.triaxiality</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.Ellipsoid" href="#GadgetGalaxies.Ellipsoid"><code>GadgetGalaxies.Ellipsoid</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Ellipsoid(radius::Number, q::U, s::U, constant::Symbol) where U&lt;:Real</code></pre><p>Represents an ellipsoid with axis ratios <code>q</code> and <code>s</code>, formed by deforming a sphere of a certain <code>radius</code> at constant <code>:volume</code> or major <code>:axis</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.Galaxy" href="#GadgetGalaxies.Galaxy"><code>GadgetGalaxies.Galaxy</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Galaxy(snapshot::Snapshot,
       isub::Integer,
       subid::Union{HaloID,Nothing},
       particles::Dict{Symbol,Particles})</code></pre><p>Galaxy of a given <code>snapshot</code> (<a href="#GadgetGalaxies.Snapshot"><code>Snapshot</code></a>) with the zero-based subhalo index <code>isub</code> with <a href="#GadgetGalaxies.Particles"><code>Particles</code></a>. Including <code>subid</code> (containing information on the exact position in the subfind files) makes accessing properties of the galaxy faster than when only having <code>isub</code>.</p><p>The particles are accessible via <code>galaxy.particletype</code> or <code>galaxy[:particletype]</code> (see <a href="#GadgetGalaxies.Particles"><code>Particles</code></a> for typical types).</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; p = GadgetGalaxies.Particles(:stars, Dict(&quot;ID&quot;=&gt;[1, 2], &quot;MASS&quot;=&gt;[1e11, 2e11]));

julia&gt; g = Galaxy(Snapshot(&quot;box&quot;, 13), 1532, nothing, Dict(:stars=&gt;p));

julia&gt; g.stars === p
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/galaxy.jl#L108-L131">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.Galaxy-Tuple{Snapshot, Integer, Bool}" href="#GadgetGalaxies.Galaxy-Tuple{Snapshot, Integer, Bool}"><code>GadgetGalaxies.Galaxy</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Galaxy(snapshot::Snapshot, isub[, get_id=true])</code></pre><p>Convenience method for creating a <code>Galaxy</code> with only a <code>snapshot</code> and a subfind id. Will try to read &quot;MSUB&quot; to extract the  if <code>get_id</code> is <code>true</code>.</p><p><a href="#GadgetGalaxies.Particles"><code>Particles</code></a> can still be added after initializing the galaxy by calling for example <code>galaxy.stars = [...]</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/galaxy.jl#L139-L147">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.GalaxyGroup" href="#GadgetGalaxies.GalaxyGroup"><code>GadgetGalaxies.GalaxyGroup</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">GalaxyGroup(snapshot::Snapshot,
       igroup::Integer,
       groupid::Union{HaloID,Nothing},
       particles::Dict{Symbol,Particles})</code></pre><p>Group of a given <code>snapshot</code> (<a href="#GadgetGalaxies.Snapshot"><code>Snapshot</code></a>) with the zero-based group index <code>igroup</code> with <a href="#GadgetGalaxies.Particles"><code>Particles</code></a>. Including <code>groupid</code> (containing information on the exact position in the subfind files) makes accessing properties of the galaxy faster than when only having <code>igroup</code>.</p><p>The particles are accessible via <code>group.particletype</code> or <code>group[:particletype]</code> (see <a href="#GadgetGalaxies.Particles"><code>Particles</code></a> for typical types).</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; p = GadgetGalaxies.Particles(:stars, Dict(&quot;ID&quot;=&gt;[1, 2], &quot;MASS&quot;=&gt;[1e11, 2e11]));

julia&gt; g = GalaxyGroup(Snapshot(&quot;box&quot;, 13), 164, nothing, Dict(:stars=&gt;p));

julia&gt; g.stars === p
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/galaxy.jl#L164-L187">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.GalaxyGroup-Tuple{Snapshot, Integer, Bool}" href="#GadgetGalaxies.GalaxyGroup-Tuple{Snapshot, Integer, Bool}"><code>GadgetGalaxies.GalaxyGroup</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">GalaxyGroup(snapshot::Snapshot, igroup[, get_id=true])</code></pre><p>Convenience method for creating a <code>GalaxyGroup</code> with only a <code>snapshot</code> and a subfind id. Will try to read &quot;MTOT&quot; to extract the  if <code>get_id</code> is <code>true</code>.</p><p><a href="#GadgetGalaxies.Particles"><code>Particles</code></a> can still be added after initializing the group by calling for example <code>group.stars = [...]</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/galaxy.jl#L195-L203">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.Particles" href="#GadgetGalaxies.Particles"><code>GadgetGalaxies.Particles</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Particles(type::Symbol, properties::Dict{String})</code></pre><p>Particles of a type (typically <code>:stars</code>, <code>:dm</code>, <code>:gas</code>, or <code>:bh</code>) with their properties in a <code>Dict</code>. The <code>Dict</code> has <code>String</code> keys, which are set to all uppercase by default, with exception of <code>iM</code> and <code>Zs</code>.</p><p>The properties are accessible via <code>particles.prop</code> (case insensitive).</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; p = GadgetGalaxies.Particles(:stars, Dict(&quot;ID&quot;=&gt;[1, 2], &quot;MASS&quot;=&gt;[1e11, 2e11]));

julia&gt; p.id
2-element Vector{Int64}:
 1
 2

julia&gt; p.pos = [1 2; 3 4; 5 6]
3√ó2 Matrix{Int64}:
 1  2
 3  4
 5  6

julia&gt; p.properties[&quot;POS&quot;] === p.pos
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/galaxy.jl#L5-L32">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.Snapshot" href="#GadgetGalaxies.Snapshot"><code>GadgetGalaxies.Snapshot</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Snapshot(snapbase, subbase)</code></pre><p>Returns a Snapshot from a <code>snapbase</code> and a <code>subbase</code>, which can also be <code>nothing</code>. Both can be files or the base part of files ending with <code>.0</code>, <code>.1</code>, etc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/snapshot.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.Snapshot-Tuple{Any, Integer}" href="#GadgetGalaxies.Snapshot-Tuple{Any, Integer}"><code>GadgetGalaxies.Snapshot</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Snapshot(path_box, snap::Integer; snapbase=true, subbase=true)</code></pre><p>Convenience method for creating a <code>Snapshot</code> from the path to a simulated box and a snapshot number. Setting <code>snapbase</code> or <code>subbase</code> to <code>false</code> sets the respective file base to <code>nothing</code>.</p><p>The formats used are the following, for <code>snapbase</code> and <code>subbase</code>, respectively:</p><ul><li><code>snapdir_XXX/snap_XXX</code></li><li><code>groups_XXX/sub_XXX</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/snapshot.jl#L19-L28">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.Snapshot-Tuple{}" href="#GadgetGalaxies.Snapshot-Tuple{}"><code>GadgetGalaxies.Snapshot</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Snapshot(; snapbase=nothing, subbase=nothing)</code></pre><p>Convenience method for creating a <code>Snapshot</code> where one of the base files does not exist.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/snapshot.jl#L12-L16">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.Sphere-Tuple{Number}" href="#GadgetGalaxies.Sphere-Tuple{Number}"><code>GadgetGalaxies.Sphere</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">Sphere(radius::Number)</code></pre><p>Returns a spherical <code>Ellipsoid</code> with the specified <code>radius</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L15-L19">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.angular_momentum-Tuple{AbstractMatrix{var&quot;#s52&quot;} where var&quot;#s52&quot;&lt;:Number, AbstractMatrix{var&quot;#s51&quot;} where var&quot;#s51&quot;&lt;:Number, Union{Number, AbstractVector{var&quot;#s50&quot;} where var&quot;#s50&quot;&lt;:Number}}" href="#GadgetGalaxies.angular_momentum-Tuple{AbstractMatrix{var&quot;#s52&quot;} where var&quot;#s52&quot;&lt;:Number, AbstractMatrix{var&quot;#s51&quot;} where var&quot;#s51&quot;&lt;:Number, Union{Number, AbstractVector{var&quot;#s50&quot;} where var&quot;#s50&quot;&lt;:Number}}"><code>GadgetGalaxies.angular_momentum</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">angular_momentum(pos, vel, mass[, ellipsoid])
angular_momentum(p::Particles[, ellipsoid])</code></pre><p>Returns the total angular momentum <span>$J = \sum_i m_i \mathbf{r}_i \times \mathbf{v}_i$</span> within the ellipsoid if given. Values are assumed to be in kpc, km/s, and solar masses.</p><pre><code class="language-julia">using Unitful, UnitfulAstro

g::Galaxy # assume an already read-in galaxy with :full units
sph = Sphere(8u&quot;kpc&quot;)

J = angular_momentum(g.stars, sph)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/kinematic_parameters.jl#L7-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.b_value-Tuple{AbstractMatrix{var&quot;#s52&quot;} where var&quot;#s52&quot;&lt;:Real, AbstractMatrix{var&quot;#s51&quot;} where var&quot;#s51&quot;&lt;:Real, Union{Number, AbstractVector{var&quot;#s50&quot;} where var&quot;#s50&quot;&lt;:Real}, Real}" href="#GadgetGalaxies.b_value-Tuple{AbstractMatrix{var&quot;#s52&quot;} where var&quot;#s52&quot;&lt;:Real, AbstractMatrix{var&quot;#s51&quot;} where var&quot;#s51&quot;&lt;:Real, Union{Number, AbstractVector{var&quot;#s50&quot;} where var&quot;#s50&quot;&lt;:Real}, Real}"><code>GadgetGalaxies.b_value</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">b_value(pos, vel, mass[, Mtot])
b_value(pos, vel, mass, ellipsoid)
b_value(p::Particles[, ellipsoid])</code></pre><p>Returns the b-value <span>$b = \log(j / (\mathrm{km/s})) - 2/3 \log(M_\mathrm{tot}/\mathrm{M}_\odot)$</span>, where <span>$j$</span> is the <a href="../kinematic_parameters/#GadgetGalaxies.specific_angular_momentum"><code>specific_angular_momentum</code></a>. Values are assumed to be in kpc, km/s, and solar masses.</p><pre><code class="language-julia">using Unitful, UnitfulAstro

g::Galaxy # assume an already read-in galaxy with :full units
sph = Sphere(8u&quot;kpc&quot;)

b = b_value(g.stars, sph)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/kinematic_parameters.jl#L124-L141">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.center_of_mass_iterative" href="#GadgetGalaxies.center_of_mass_iterative"><code>GadgetGalaxies.center_of_mass_iterative</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">center_of_mass_iterative(g::AbstractGalaxy, r_start::Number, ptype::Symbol=:stars; kwargs...)</code></pre><p>Returns the center of mass of the galaxy&#39;s particles of type <code>ptype</code> (<code>:stars</code>, <code>:dm</code>, <code>:gas</code>, etc.).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L285-L289">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.center_of_mass_iterative-Tuple{AbstractMatrix{var&quot;#s27&quot;} where var&quot;#s27&quot;&lt;:Number, AbstractVector{var&quot;#s26&quot;} where var&quot;#s26&quot;&lt;:Number, Number}" href="#GadgetGalaxies.center_of_mass_iterative-Tuple{AbstractMatrix{var&quot;#s27&quot;} where var&quot;#s27&quot;&lt;:Number, AbstractVector{var&quot;#s26&quot;} where var&quot;#s26&quot;&lt;:Number, Number}"><code>GadgetGalaxies.center_of_mass_iterative</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">center_of_mass_iterative(
    pos::AbstractMatrix{&lt;:Number},
    mass::AbstractVector{&lt;:Number},
    r_start::Number;
    shrinking_factor::Real=0.025,
    limit_fraction::Real=0.01,
    limit_number::Integer=1000,
)</code></pre><p>Returns the center of mass by applying the shrinking sphere method (<a href="https://arxiv.org/abs/astro-ph/0201544">Power et al. 2003</a>).</p><p>The sphere starts centered at the coordinate system&#39;s origin with a radius of <code>r_start</code> and shrinks by <code>shrinking_factor</code> every iteration. The iteration is stopped when the sphere contains fewer than <code>limit_number</code> and fewer than <code>limit_fraction</code> times the number of particles in the starting sphere, whichever is smaller.</p><p>The radius of the sphere in iteration step <span>$i$</span> is <span>$r_0 (1 - f_\mathrm{shrink})^i$</span>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L225-L244">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.center_of_mass_iterative-Tuple{GadgetGalaxies.Particles, Number}" href="#GadgetGalaxies.center_of_mass_iterative-Tuple{GadgetGalaxies.Particles, Number}"><code>GadgetGalaxies.center_of_mass_iterative</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">center_of_mass_iterative(p::Particles, r_start::Number; kwargs...)</code></pre><p>Returns the center of mass of the particles.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L276-L280">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.center_of_velocity" href="#GadgetGalaxies.center_of_velocity"><code>GadgetGalaxies.center_of_velocity</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">center_of_velocity(g::AbstractGalaxy, radius::Number, ptype::Symbol=:stars; kwargs...)</code></pre><p>Returns the center of velocity of the galaxy&#39;s particles of type <code>ptype</code> (<code>:stars</code>, <code>:dm</code>, <code>:gas</code>, etc.). Requires &quot;POS&quot;, &quot;VEL&quot;, and &quot;MASS&quot; of the particle type to be available.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L385-L390">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.center_of_velocity-Tuple{AbstractMatrix{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:Number, AbstractMatrix{var&quot;#s35&quot;} where var&quot;#s35&quot;&lt;:Number, AbstractVector{var&quot;#s36&quot;} where var&quot;#s36&quot;&lt;:Number, Number}" href="#GadgetGalaxies.center_of_velocity-Tuple{AbstractMatrix{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:Number, AbstractMatrix{var&quot;#s35&quot;} where var&quot;#s35&quot;&lt;:Number, AbstractVector{var&quot;#s36&quot;} where var&quot;#s36&quot;&lt;:Number, Number}"><code>GadgetGalaxies.center_of_velocity</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">center_of_velocity(
    pos::AbstractMatrix{&lt;:Number},
    vel::AbstractMatrix{&lt;:Number},
    mass::AbstractVector{&lt;:Number},
    radius::Number;
    p::Real=0.9,
    r‚ÇÄ::Union{AbstractVector{&lt;:Number},Nothing}=nothing,
)</code></pre><p>Returns mass-weighted mean velocity within <code>radius</code> around <code>r‚ÇÄ</code>, only considering absolute velocities smaller than the <code>p</code>th quantile (any value between 0 and 1) when centered around the median velocity.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L340-L352">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.center_of_velocity-Tuple{GadgetGalaxies.Particles, Number}" href="#GadgetGalaxies.center_of_velocity-Tuple{GadgetGalaxies.Particles, Number}"><code>GadgetGalaxies.center_of_velocity</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">center_of_velocity(p::Particles, radius::Number; kwargs...)</code></pre><p>Returns the center of velocity of the particles. Requires &quot;POS&quot;, &quot;VEL&quot;, and &quot;MASS&quot; to be available.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L376-L380">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.circular_velocity-Union{Tuple{T2}, Tuple{T1}, Tuple{T1, T2}} where {T1&lt;:AbstractFloat, T2&lt;:AbstractFloat}" href="#GadgetGalaxies.circular_velocity-Union{Tuple{T2}, Tuple{T1}, Tuple{T1, T2}} where {T1&lt;:AbstractFloat, T2&lt;:AbstractFloat}"><code>GadgetGalaxies.circular_velocity</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">circular_velocity(Mtot, r)</code></pre><p>Returns the circular velocity <span>$v_\mathrm{circ} = \sqrt{G M(&lt;r) / r}$</span>. Values are assumed to be in solar masses and kpc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/kinematic_parameters.jl#L193-L198">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.convert_units!" href="#GadgetGalaxies.convert_units!"><code>GadgetGalaxies.convert_units!</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">convert_units!(p::Particles, h, units::Symbol=:full)</code></pre><p>Converts the units of the particles properties (see <a href="#GadgetGalaxies.Particles"><code>Particles</code></a>) from a snapshot or subfind header in-place. Use <code>:full</code> for units as <code>Unitful</code> quantities, <code>:physical</code> for values converted to physical units (kpc, km/s, solar metallicities etc.), or <code>:sim</code> for values in simulation units. The individual metallicities in &quot;Zs&quot; are converted to a one-dimensional <code>Vector</code> of values in solar metallicities in any case.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/units.jl#L1-L10">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.convert_units_age" href="#GadgetGalaxies.convert_units_age"><code>GadgetGalaxies.convert_units_age</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">convert_units_age(val::Union{Real,AbstractArray{&lt;:Real}}, h, units::Symbol=:full)
convert_units_physical_age(val::Real, h)
convert_units_physical_age(vals::AbstractArray{&lt;:Real}, h)
convert_units_physical_age!(vals::AbstractArray{&lt;:Real}, h)
convert_units_full_age(val::Real, h)
convert_units_full_age(vals::AbstractArray{&lt;:Real}, h)</code></pre><p>Converts ages from the scale factor <span>$a$</span> via the lookback time according to the cosmology defined by the snapshot header. Full returns values in <code>Unitful</code> quantities, whereas physical returns the physical value in Gyr.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/units.jl#L228-L239">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.convert_units_full" href="#GadgetGalaxies.convert_units_full"><code>GadgetGalaxies.convert_units_full</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">convert_units_physical(vals::AbstractArray{&lt;:Real}, prop::Symbol, h)
convert_units_physical!(vals::AbstractArray{&lt;:Real}, prop::Symbol, h)
convert_units_full(vals::AbstractArray{&lt;:Real}, prop::Symbol, h)</code></pre><p>Converts simulation values to the respective physical values, depending on <code>prop</code>, which can take any of the following values: <code>:pos</code>, <code>:vel</code>, <code>:temp</code>, <code>:mass</code>, <code>:age</code>.</p><p>Full returns values in <code>Unitful</code> quantities, whereas physical returns the physical value without unit.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/units.jl#L109-L118">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.convert_units_mass" href="#GadgetGalaxies.convert_units_mass"><code>GadgetGalaxies.convert_units_mass</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">convert_units_mass(val::Union{Real,AbstractArray{&lt;:Real}}, h, units::Symbol=:full)
convert_units_physical_mass(val::Real, h)
convert_units_physical_mass(vals::AbstractArray{&lt;:Real}, h)
convert_units_physical_mass!(vals::AbstractArray{&lt;:Real}, h)
convert_units_full_mass(val::Real, h)
convert_units_full_mass(vals::AbstractArray{&lt;:Real}, h)</code></pre><p>Converts masses via <span>$m \to m \times 10^{10} / h_0$</span> according to the cosmology defined by the snapshot header. <code>:full</code> returns values in <code>Unitful</code> quantities, whereas <code>:physical</code> returns the physical value in M‚äô. <code>:sim</code> simply returns <code>val</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/units.jl#L197-L208">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.convert_units_physical" href="#GadgetGalaxies.convert_units_physical"><code>GadgetGalaxies.convert_units_physical</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">convert_units_physical(vals::AbstractArray{&lt;:Real}, prop::Symbol, h)
convert_units_physical!(vals::AbstractArray{&lt;:Real}, prop::Symbol, h)
convert_units_full(vals::AbstractArray{&lt;:Real}, prop::Symbol, h)</code></pre><p>Converts simulation values to the respective physical values, depending on <code>prop</code>, which can take any of the following values: <code>:pos</code>, <code>:vel</code>, <code>:temp</code>, <code>:mass</code>, <code>:age</code>.</p><p>Full returns values in <code>Unitful</code> quantities, whereas physical returns the physical value without unit.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/units.jl#L109-L118">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.convert_units_pos" href="#GadgetGalaxies.convert_units_pos"><code>GadgetGalaxies.convert_units_pos</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">convert_units_pos(val::Union{Real,AbstractArray{&lt;:Real}}, h, units::Symbol=:full)
convert_units_physical_pos(val::Real, h)
convert_units_physical_pos(vals::AbstractArray{&lt;:Real}, h)
convert_units_physical_pos!(vals::AbstractArray{&lt;:Real}, h)
convert_units_full_pos(val::Real, h)
convert_units_full_pos(vals::AbstractArray{&lt;:Real}, h)</code></pre><p>Converts positions via <span>$x \to x/(h_0 (z+1)))$</span> according to the cosmology defined by the snapshot header. <code>:full</code> returns values in <code>Unitful</code> quantities, whereas <code>:physical</code> returns the physical value in kpc. <code>:sim</code> simply returns <code>val</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/units.jl#L197-L208">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.convert_units_solar_metallicity-Tuple{AbstractMatrix{var&quot;#s53&quot;} where var&quot;#s53&quot;&lt;:Number, AbstractVector{var&quot;#s52&quot;} where var&quot;#s52&quot;&lt;:Number}" href="#GadgetGalaxies.convert_units_solar_metallicity-Tuple{AbstractMatrix{var&quot;#s53&quot;} where var&quot;#s53&quot;&lt;:Number, AbstractVector{var&quot;#s52&quot;} where var&quot;#s52&quot;&lt;:Number}"><code>GadgetGalaxies.convert_units_solar_metallicity</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">convert_units_solar_metallicity(zs::AbstractMatrix{&lt;:Number}, mass::AbstractVector{&lt;:Number})</code></pre><p>Converts an <code>11√ón</code> mass matrix and an <code>n</code>-length mass vector to a metallicity vector of length <code>n</code>, in solar metallicities.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/units.jl#L268-L273">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.convert_units_temp" href="#GadgetGalaxies.convert_units_temp"><code>GadgetGalaxies.convert_units_temp</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">convert_units_temp(val::Union{Real,AbstractArray{&lt;:Real}}, h, units::Symbol=:full)
convert_units_physical_temp(val::Real, h)
convert_units_physical_temp(vals::AbstractArray{&lt;:Real}, h)
convert_units_physical_temp!(vals::AbstractArray{&lt;:Real}, h)
convert_units_full_temp(val::Real, h)
convert_units_full_temp(vals::AbstractArray{&lt;:Real}, h)</code></pre><p>Converts temperatures via <span>$T \to T$</span> according to the cosmology defined by the snapshot header. <code>:full</code> returns values in <code>Unitful</code> quantities, whereas <code>:physical</code> returns the physical value in K. <code>:sim</code> simply returns <code>val</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/units.jl#L197-L208">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.convert_units_vel" href="#GadgetGalaxies.convert_units_vel"><code>GadgetGalaxies.convert_units_vel</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">convert_units_vel(val::Union{Real,AbstractArray{&lt;:Real}}, h, units::Symbol=:full)
convert_units_physical_vel(val::Real, h)
convert_units_physical_vel(vals::AbstractArray{&lt;:Real}, h)
convert_units_physical_vel!(vals::AbstractArray{&lt;:Real}, h)
convert_units_full_vel(val::Real, h)
convert_units_full_vel(vals::AbstractArray{&lt;:Real}, h)</code></pre><p>Converts velocities via <span>$v \to v/\sqrt{z+1})$</span> according to the cosmology defined by the snapshot header. <code>:full</code> returns values in <code>Unitful</code> quantities, whereas <code>:physical</code> returns the physical value in km s^-1. <code>:sim</code> simply returns <code>val</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/units.jl#L197-L208">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.eccentricity-Tuple{Real}" href="#GadgetGalaxies.eccentricity-Tuple{Real}"><code>GadgetGalaxies.eccentricity</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">eccentricity(q::Real)</code></pre><p>Eccentricity from axis ratio <code>q</code>: <span>$e = \sqrt{1 - q^2}$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L541-L545">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.ellipsoidal_mask-Tuple{AbstractMatrix{var&quot;#s51&quot;} where var&quot;#s51&quot;&lt;:Number, Ellipsoid}" href="#GadgetGalaxies.ellipsoidal_mask-Tuple{AbstractMatrix{var&quot;#s51&quot;} where var&quot;#s51&quot;&lt;:Number, Ellipsoid}"><code>GadgetGalaxies.ellipsoidal_mask</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ellipsoidal_mask(
    pos::AbstractMatrix{&lt;:Number},
    ellipsoid::Ellipsoid;
    return_r¬≤_ellipsoid::Bool=false,
)</code></pre><p>Create a <code>BitArray</code> for masking the particles within an <code>ellipsoid</code>.</p><p>The ellipsoid is centered around the origin of the coordinate system with its axes placed on the x, y, and z axes, from smallest to largest. If <code>return_r¬≤_ellipsoid</code> is <code>true</code>, returns a tuple of the mask and the vector r¬≤ for all particles.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L406-L418">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.ellipticity-Tuple{Real}" href="#GadgetGalaxies.ellipticity-Tuple{Real}"><code>GadgetGalaxies.ellipticity</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">ellipticity(q::Real)</code></pre><p>Ellipticity from axis ratio <code>q</code>: <span>$œµ = 1 - q$</span></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L534-L538">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.fill_ùêà_up!-Tuple{AbstractMatrix{var&quot;#s30&quot;} where var&quot;#s30&quot;&lt;:Real, AbstractMatrix{var&quot;#s29&quot;} where var&quot;#s29&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s28&quot;} where var&quot;#s28&quot;&lt;:Number}, Bool, Symbol}" href="#GadgetGalaxies.fill_ùêà_up!-Tuple{AbstractMatrix{var&quot;#s30&quot;} where var&quot;#s30&quot;&lt;:Real, AbstractMatrix{var&quot;#s29&quot;} where var&quot;#s29&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s28&quot;} where var&quot;#s28&quot;&lt;:Number}, Bool, Symbol}"><code>GadgetGalaxies.fill_ùêà_up!</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">fill_ùêà_up!(
    ùêà_up::AbstractMatrix{&lt;:Real},
    pos::AbstractMatrix{&lt;:Number},
    mass::Union{AbstractVector{&lt;:Number},Nothing},
    mass_weighted::Bool,
    inertia_matrix_type::Symbol;
    r¬≤::Union{AbstractVector{&lt;:Number},Nothing}=nothing,
)</code></pre><p>Fill upper triangle of the inertia matrix for <a href="#GadgetGalaxies.inertia_matrix-Tuple{AbstractMatrix{var&quot;#s31&quot;} where var&quot;#s31&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s30&quot;} where var&quot;#s30&quot;&lt;:Number}}"><code>inertia_matrix</code></a> and <a href="#GadgetGalaxies.inertia_matrix_iterative-Tuple{AbstractMatrix{var&quot;#s29&quot;} where var&quot;#s29&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s28&quot;} where var&quot;#s28&quot;&lt;:Number}, Symbol}"><code>inertia_matrix_iterative</code></a></p><p><strong>Arguments</strong></p><ul><li><code>mass_weighted::Bool</code>: <code>true</code> if positions should be weighted by mass</li><li><code>inertia_matrix_type::Symbol</code>: set to <code>:unweighted</code> or <code>:reduced</code></li></ul><p><strong>Keyword Arguments</strong></p><ul><li><code>r¬≤::Union{AbstractVector{&lt;:Number},Nothing}</code>: if precomputed, the absolute squared distances from the coordinate system&#39;s origin; only used when <code>:reduced</code> is used</li></ul><p>Note that in the mass-weighted cases, it is not normalized to the total mass, i.e. different than in Eq2/Eq3 of T2015.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L437-L459">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.half_mass_radius-Tuple{AbstractMatrix{var&quot;#s35&quot;} where var&quot;#s35&quot;&lt;:Number, AbstractVector{var&quot;#s34&quot;} where var&quot;#s34&quot;&lt;:Number, AbstractVector{var&quot;#s33&quot;} where var&quot;#s33&quot;&lt;:Number}" href="#GadgetGalaxies.half_mass_radius-Tuple{AbstractMatrix{var&quot;#s35&quot;} where var&quot;#s35&quot;&lt;:Number, AbstractVector{var&quot;#s34&quot;} where var&quot;#s34&quot;&lt;:Number, AbstractVector{var&quot;#s33&quot;} where var&quot;#s33&quot;&lt;:Number}"><code>GadgetGalaxies.half_mass_radius</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">half_mass_radius(
    pos::AbstractMatrix{&lt;:Number},
    mass::Union{AbstractVector{&lt;:Number},Nothing},
    [r¬≤::AbstractVector{&lt;:Number}];
    rmax::Union{Number,Nothing}=nothing,
)</code></pre><p>Returns the half-mass radius of the particles within radius <code>rmax</code>, or of all particles if <code>rmax</code> is <code>nothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/global_parameters.jl#L1-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.half_mass_radius-Tuple{AbstractMatrix{var&quot;#s51&quot;} where var&quot;#s51&quot;&lt;:Number}" href="#GadgetGalaxies.half_mass_radius-Tuple{AbstractMatrix{var&quot;#s51&quot;} where var&quot;#s51&quot;&lt;:Number}"><code>GadgetGalaxies.half_mass_radius</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">half_mass_radius(pos::AbstractMatrix{&lt;:Number}; rmax::Union{Number,Nothing}=nothing)</code></pre><p>Returns the half-mass radius of the particles within radius <code>rmax</code> assuming equal masses of all particles, or of all particles if <code>rmax</code> is <code>nothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/global_parameters.jl#L55-L60">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.half_mass_radius-Tuple{GadgetGalaxies.Particles}" href="#GadgetGalaxies.half_mass_radius-Tuple{GadgetGalaxies.Particles}"><code>GadgetGalaxies.half_mass_radius</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">half_mass_radius(g::AbstractGalaxy, ptype::Symbol; kwargs...)
half_mass_radius(p::Particles; kwargs...)</code></pre><p>Returns the particles&#39; half-mass radius, depending on if a mass vector is available or not. If the mass is not available, equal particle masses are assumed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/global_parameters.jl#L77-L83">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.half_mass_radius_2D-Tuple{AbstractMatrix{var&quot;#s39&quot;} where var&quot;#s39&quot;&lt;:Number, AbstractVector{var&quot;#s38&quot;} where var&quot;#s38&quot;&lt;:Number}" href="#GadgetGalaxies.half_mass_radius_2D-Tuple{AbstractMatrix{var&quot;#s39&quot;} where var&quot;#s39&quot;&lt;:Number, AbstractVector{var&quot;#s38&quot;} where var&quot;#s38&quot;&lt;:Number}"><code>GadgetGalaxies.half_mass_radius_2D</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">half_mass_radius_2D(
    pos::AbstractMatrix{&lt;:Number},
    [mass::Union{AbstractVector{&lt;:Number},Nothing}];
    rmax::Union{Number,Nothing}=nothing,
    perspective::Symbol=:edgeon,
)</code></pre><p>Returns the 2D half-mass radius of the particles within radius <code>rmax</code> when viewed from a given <code>perspective</code> (<code>:edgeon</code>, <code>:sideon</code>, <code>:faceon</code>), or of all particles if <code>rmax</code> is <code>nothing</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/global_parameters.jl#L95-L105">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.half_mass_radius_2D-Tuple{GadgetGalaxies.Particles}" href="#GadgetGalaxies.half_mass_radius_2D-Tuple{GadgetGalaxies.Particles}"><code>GadgetGalaxies.half_mass_radius_2D</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">half_mass_radius_2D(g::AbstractGalaxy, ptype::Symbol; kwargs...)
half_mass_radius_2D(p::Particles; kwargs...)</code></pre><p>Returns the particles&#39; 2D half-mass radius, depending on if a mass vector is available or not. If the mass is not available, equal particle masses are assumed.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/global_parameters.jl#L144-L150">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.inertia_matrix-Tuple{AbstractMatrix{var&quot;#s31&quot;} where var&quot;#s31&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s30&quot;} where var&quot;#s30&quot;&lt;:Number}}" href="#GadgetGalaxies.inertia_matrix-Tuple{AbstractMatrix{var&quot;#s31&quot;} where var&quot;#s31&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s30&quot;} where var&quot;#s30&quot;&lt;:Number}}"><code>GadgetGalaxies.inertia_matrix</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">inertia_matrix(
    pos::AbstractMatrix{&lt;:Number},
    mass::Union{AbstractVector{&lt;:Number},Nothing};
    mass_weighted::Bool=true,
    inertia_matrix_type::Symbol=:unweighted,
)</code></pre><p>Create inertia matrix of different types.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>mass_weighted::Bool</code>: <code>true</code> if positions should be weighted by mass</li><li><code>inertia_matrix_type::Symbol</code>: set to <code>:unweighted</code> or <code>:reduced</code></li></ul><p><strong>Inertia matrix types</strong></p><ul><li>Unweighted:               Eq. 1 in <a href="https://arxiv.org/abs/1203.6833">Joachimi et al. 2013</a>,</li><li>Mass-weighted unweighted: Eq. 2 in <a href="https://arxiv.org/abs/1409.7297">Tenneti et al. 2015</a>,</li><li>Reduced:                  Eq. 3 in <a href="https://arxiv.org/abs/1409.7297">Tenneti et al. 2015</a>,                           but without the mass weighting,</li><li>Mass-weighted reduced:    Eq. 3 in <a href="https://arxiv.org/abs/1409.7297">Tenneti et al. 2015</a>.</li></ul><p>Note that in the mass-weighted cases, it is not normalized to the total mass, i.e. different than in Eq2/Eq3 of T2015.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L197-L221">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.inertia_matrix_iterative-Tuple{AbstractMatrix{var&quot;#s29&quot;} where var&quot;#s29&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s28&quot;} where var&quot;#s28&quot;&lt;:Number}, Symbol}" href="#GadgetGalaxies.inertia_matrix_iterative-Tuple{AbstractMatrix{var&quot;#s29&quot;} where var&quot;#s29&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s28&quot;} where var&quot;#s28&quot;&lt;:Number}, Symbol}"><code>GadgetGalaxies.inertia_matrix_iterative</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">inertia_matrix_iterative(
    pos::AbstractMatrix{&lt;:Number},
    mass::Union{AbstractVector{&lt;:Number},Nothing},
    inertia_matrix_type::Symbol;
    radius::Union{Number,Nothing}=nothing,
    mass_weighted::Bool=true,
    ellipsoidal_distance::Bool=false,
    constant_volume::Bool=true,
    œµ::Real=1e-4,
)</code></pre><p>Create inertia matrix of different types iteratively (generally more stable than <a href="#GadgetGalaxies.inertia_matrix-Tuple{AbstractMatrix{var&quot;#s31&quot;} where var&quot;#s31&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s30&quot;} where var&quot;#s30&quot;&lt;:Number}}"><code>inertia_matrix</code></a>).</p><p><strong>Keyword Arguments</strong></p><ul><li><code>radius::Union{Number,Nothing}</code>: radius of the sphere to start the iteration with</li><li><code>mass_weighted::Bool</code>: <code>true</code> if positions should be weighted by mass</li><li><code>ellipsoidal_distance::Bool</code>: only in combination with <code>reduced</code> inertia matrix type; <code>true</code> to use distances corrected by ellipsoidal axes</li><li><code>constant_volume::Bool</code>: <code>true</code> if the sphere should be deformed into an ellipsoid with constant volume, <code>false</code> for constant major axis</li><li><code>œµ::Real</code>: iterate until a relative change of the shape axis ratios less than <code>œµ</code> is encountered</li></ul><p><strong>Inertia matrix types</strong></p><ul><li>Unweighted:               Eq. 1 in <a href="https://arxiv.org/abs/1203.6833">Joachimi et al. 2013</a>,</li><li>Mass-weighted unweighted: Eq. 2 in <a href="https://arxiv.org/abs/1409.7297">Tenneti et al. 2015</a>,</li><li>Reduced:                  Eq. 3 in <a href="https://arxiv.org/abs/1409.7297">Tenneti et al. 2015</a>,                           but without the mass weighting,</li><li>Mass-weighted reduced:    Eq. 3 in <a href="https://arxiv.org/abs/1409.7297">Tenneti et al. 2015</a>.</li><li>Reduced with ellipsoidal distances:               TODO</li><li>Mass-weighted reduced with ellipsoidal distances: TODO</li></ul><p>Note that in the mass-weighted cases, it is not normalized to the total mass, i.e. different than in Eq2/Eq3 of T2015.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L248-L280">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.is_main_halo-Tuple{Galaxy}" href="#GadgetGalaxies.is_main_halo-Tuple{Galaxy}"><code>GadgetGalaxies.is_main_halo</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">is_main_halo(g::Galaxy)</code></pre><p>Returns if the subhalo is the first subhalo in its respective group.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/read_halo.jl#L184-L188">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.particle_type_id-Tuple{Symbol}" href="#GadgetGalaxies.particle_type_id-Tuple{Symbol}"><code>GadgetGalaxies.particle_type_id</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">particle_type_id(type::Symbol)</code></pre><p>Returns the Gadget particle type from a particle <code>Symbol</code> (currently <code>:gas</code>, <code>:dm</code>, <code>:stars</code>, and <code>:bh</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/galaxy.jl#L92-L97">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.read_galaxy_pos" href="#GadgetGalaxies.read_galaxy_pos"><code>GadgetGalaxies.read_galaxy_pos</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">read_galaxy_pos(g::AbstractGalaxy, units::Symbol=:full; verbose::Bool=false)</code></pre><p>Returns the galaxy&#39;s position from subfind using GPOS for a group and SPOS for a subhalo.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/read_halo.jl#L150-L154">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.read_galaxy_prop" href="#GadgetGalaxies.read_galaxy_prop"><code>GadgetGalaxies.read_galaxy_prop</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">read_galaxy_prop(g::AbstractGalaxy, prop::AbstractString, units::Symbol=:full; verbose::Bool=false)</code></pre><p>Reads galaxy property from subfind for <code>g</code>. Use <code>:full</code> for <code>units</code> as <code>Unitful</code> quantities, <code>:physical</code> for values converted, and <code>:sim</code> for values in simulation units.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/read_halo.jl#L131-L136">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.read_galaxy_vel" href="#GadgetGalaxies.read_galaxy_vel"><code>GadgetGalaxies.read_galaxy_vel</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">read_galaxy_vel(g::Galaxy, units::Symbol=:full; verbose::Bool=false)</code></pre><p>Returns the galaxy&#39;s velocity from subfind using SVEL of FSUB for a group and SVEL for a subhalo.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/read_halo.jl#L163-L167">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.read_halo!-Tuple{GadgetGalaxies.AbstractGalaxy}" href="#GadgetGalaxies.read_halo!-Tuple{GadgetGalaxies.AbstractGalaxy}"><code>GadgetGalaxies.read_halo!</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">read_halo!(g::Galaxy; kwargs...)</code></pre><p>Reads particles of a <a href="#GadgetGalaxies.Galaxy"><code>Galaxy</code></a>.</p><p><strong>Keywords</strong></p><ul><li><code>radius::Union{Number,Nothing}=nothing</code>: if <code>nothing</code>, the half-mass radius &quot;RHMS&quot;</li><li><code>radius_units::Symbol=:physical</code>: <code>:physical</code> or <code>:sim</code>, depending on the units of <code>radius</code></li><li><code>rad_scale::Real=1</code>: read particles within <code>rad_scale * radius</code> of halo position</li><li><code>units::Symbol=:full</code>: use <code>:full</code> for units as <code>Unitful</code> quantities, <code>:physical</code> for values converted to physical units (kpc, km/s, solar metallicities etc.), <code>:sim</code> for values in simulation units</li><li><code>use_keys::Bool=true</code>: if Peano-Hilbert keys should be used if possible</li><li><code>verbose::Bool=false</code>: verbose output</li><li><code>props::Tuple=(      (:gas, [&quot;POS&quot;, &quot;VEL&quot;, &quot;MASS&quot;, &quot;TEMP&quot;, &quot;SFR&quot;, &quot;Zs&quot;]),      (:dm, [&quot;POS&quot;, &quot;VEL&quot;]),      (:stars, [&quot;POS&quot;, &quot;VEL&quot;, &quot;MASS&quot;, &quot;AGE&quot;, &quot;Zs&quot;, &quot;iM&quot;])  )</code>: particle types (see <a href="#GadgetGalaxies.Particles"><code>Particles</code></a>) and properties to be read</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/read_halo.jl#L15-L33">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.read_header_particle_mass" href="#GadgetGalaxies.read_header_particle_mass"><code>GadgetGalaxies.read_header_particle_mass</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">read_dm_particle_mass(snapshot::Snapshot, ptype::Symbol[, units=:full]; verbose::Bool=false)</code></pre><p>Returns the particle mass from the first snapfile&#39;s header for a particle type (<code>:dm</code>, <code>:gas</code>, etc.).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/read_halo.jl#L115-L119">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.read_redshift-Tuple{Snapshot}" href="#GadgetGalaxies.read_redshift-Tuple{Snapshot}"><code>GadgetGalaxies.read_redshift</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">read_redshift(snapshot::Snapshot)</code></pre><p>Returns the redshift <span>$z$</span> from the first subfile&#39;s header.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/read_halo.jl#L105-L109">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.rotate-Tuple{AbstractMatrix{var&quot;#s32&quot;} where var&quot;#s32&quot;&lt;:Number, AbstractMatrix{var&quot;#s31&quot;} where var&quot;#s31&quot;&lt;:Real}" href="#GadgetGalaxies.rotate-Tuple{AbstractMatrix{var&quot;#s32&quot;} where var&quot;#s32&quot;&lt;:Number, AbstractMatrix{var&quot;#s31&quot;} where var&quot;#s31&quot;&lt;:Real}"><code>GadgetGalaxies.rotate</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">rotate(vals::AbstractMatrix{&lt;:Number}, rotmat::AbstractMatrix{&lt;:Real})
rotate!(vals::AbstractMatrix{&lt;:Number}, rotmat::AbstractMatrix{&lt;:Real})</code></pre><p>Returns <code>vals</code> rotated by the rotation matrix <code>rotmat</code>. Works for any dimensions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L70-L75">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.rotate-Tuple{GadgetGalaxies.AbstractGalaxy, AbstractMatrix{var&quot;#s31&quot;} where var&quot;#s31&quot;&lt;:Real}" href="#GadgetGalaxies.rotate-Tuple{GadgetGalaxies.AbstractGalaxy, AbstractMatrix{var&quot;#s31&quot;} where var&quot;#s31&quot;&lt;:Real}"><code>GadgetGalaxies.rotate</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">rotate(g::AbstractGalaxy, rotmat::AbstractMatrix{&lt;:Real})
rotate!(g::AbstractGalaxy, rotmat::AbstractMatrix{&lt;:Real})</code></pre><p>Rotates the galaxy <code>g</code> by the <span>$3 \times 3$</span> rotation matrix <code>rotmat</code>.</p><p>The non-in-place version <code>rotate</code> creates a copy of the galaxy with only new pointers to the rotated quantites (generally &quot;POS&quot; and &quot;VEL&quot;) and copies of the particle Dicts.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L34-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.rotate-Tuple{GadgetGalaxies.Particles, AbstractMatrix{var&quot;#s32&quot;} where var&quot;#s32&quot;&lt;:Real}" href="#GadgetGalaxies.rotate-Tuple{GadgetGalaxies.Particles, AbstractMatrix{var&quot;#s32&quot;} where var&quot;#s32&quot;&lt;:Real}"><code>GadgetGalaxies.rotate</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">rotate(p::Particles, rotmat::AbstractMatrix{&lt;:Real})
rotate!(p::Particles, rotmat::AbstractMatrix{&lt;:Real})</code></pre><p>Rotates the particles <code>p</code> by the <span>$3 \times 3$</span> rotation matrix <code>rotmat</code>.</p><p>The non-in-place version <code>rotate</code> creates a copy of the particles with only new pointers to the rotated properties (generally &quot;POS&quot; and &quot;VEL&quot;).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.rotate_edgeon" href="#GadgetGalaxies.rotate_edgeon"><code>GadgetGalaxies.rotate_edgeon</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">rotate_edgeon(g::AbstractGalaxy, ptype::Symbol=:stars; axis_ratios::Bool=false, kwargs...)
rotate_edgeon!(g::AbstractGalaxy, ptype::Symbol=:stars; axis_ratios::Bool=false, kwargs...)</code></pre><p>Rotates the galaxy&#39;s particles edge-on for the given particle type <code>ptype</code> (<code>:stars</code>, <code>:dm</code>, <code>:gas</code>, etc.) using the given shape determination algorithm and <code>radius</code> (see <a href="#GadgetGalaxies.rotation_matrix_edgeon-Tuple{GadgetGalaxies.Particles}"><code>rotation_matrix_edgeon</code></a> for all keyword parameters).</p><p>Keyword parameters</p><ul><li><code>axis_ratios::Bool</code>: <code>true</code> to return tuple <code>(g, q, s)</code> with galaxy and axis ratios</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L118-L128">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.rotate_edgeon-Tuple{GadgetGalaxies.Particles}" href="#GadgetGalaxies.rotate_edgeon-Tuple{GadgetGalaxies.Particles}"><code>GadgetGalaxies.rotate_edgeon</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">rotate_edgeon(p::Particles; axis_ratios::Bool=false, kwargs...)
rotate_edgeon!(p::Particles; axis_ratios::Bool=false, kwargs...)</code></pre><p>Rotates the particles edge-on using the given shape determination algorithm and <code>radius</code> (see <a href="#GadgetGalaxies.rotation_matrix_edgeon-Tuple{GadgetGalaxies.Particles}"><code>rotation_matrix_edgeon</code></a> for all keyword parameters).</p><p>Keyword parameters</p><ul><li><code>axis_ratios::Bool</code>: <code>true</code> to return tuple <code>(p, q, s)</code> with particles and axis ratios</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L84-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.rotation_matrix_2D-Tuple{GadgetGalaxies.Particles}" href="#GadgetGalaxies.rotation_matrix_2D-Tuple{GadgetGalaxies.Particles}"><code>GadgetGalaxies.rotation_matrix_2D</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">rotation_matrix_2D(
    p::Particles;
    radius::Union{Number,Nothing}=nothing,
    mass_weighted::Bool=true,
    inertia_matrix_type=:unweighted,
    iterative::Bool=true,
    elliptical_distance::Bool=false,
    constant_area::Bool=true,
    algorithm::Union{Symbol,Nothing}=nothing,
    perspective::Symbol=:edgeon,
    matrix_2d::Bool=false,
)</code></pre><p>Returns a tuple of the 3D or 2D rotation matrix for rotating the particles in 2D, so that the fitted ellipse is aligned with the axes, and the axis ratio <code>q</code>. If <code>matrix_2d</code> is <code>true</code>, will return the 2D rotation matrix, otherwise the 3D rotation matrix.</p><p>See <a href="#GadgetGalaxies.inertia_matrix-Tuple{AbstractMatrix{var&quot;#s31&quot;} where var&quot;#s31&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s30&quot;} where var&quot;#s30&quot;&lt;:Number}}"><code>inertia_matrix</code></a> and <a href="#GadgetGalaxies.inertia_matrix_iterative-Tuple{AbstractMatrix{var&quot;#s29&quot;} where var&quot;#s29&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s28&quot;} where var&quot;#s28&quot;&lt;:Number}, Symbol}"><code>inertia_matrix_iterative</code></a> for the algorithms used for computing the inertia matrix (here only used in 2D, note that terminology is different than in 3D, i.e. elliptical instead of ellipsoidal and constant area instead of volume).</p><p><strong>Keyword Arguments</strong></p><ul><li><code>radius::Union{Number,Nothing}</code>: radius of the initial circle for determining the inertia matrix (<code>nothing</code> to include all particles)</li><li><code>mass_weighted::Bool</code>: <code>true</code> if positions should be weighted by mass</li><li><code>inertia_matrix_type</code>: set to <code>:unweighted</code> or <code>:reduced</code></li><li><code>iterative::Bool</code>: <code>true</code> to use <a href="#GadgetGalaxies.inertia_matrix_iterative-Tuple{AbstractMatrix{var&quot;#s29&quot;} where var&quot;#s29&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s28&quot;} where var&quot;#s28&quot;&lt;:Number}, Symbol}"><code>inertia_matrix_iterative</code></a>, <code>false</code> for <a href="@ref"><code>intertia_matrix</code></a></li><li><code>elliptical_distance::Bool</code>: <code>true</code> only considered together with inertia matrix type <code>:reduced</code></li><li><code>constant_area::Bool</code>: <code>true</code> if the circle should be deformed into an ellipse with constant area, <code>false</code> for constant major axis</li><li><code>algorithm::Union{Symbol,Nothing}</code>: one of <code>:unw</code>, <code>:red</code>, <code>:unw_i_vol</code>, <code>:unw_i_ax</code>, <code>:red_i_vol</code>, <code>:red_i_ax</code>, <code>:red_ell_i_vol</code>, <code>:red_ell_i_ax</code> (note the same use of <code>vol</code> like in the 3D case instead of <code>area</code>)</li><li><code>perspective::Symbol</code>: one of <code>:edgeon</code>, <code>:sideon</code>, <code>:faceon</code></li><li><code>matrix_2d::Bool</code>: <code>true</code> to return 2D rotation matrix, <code>false</code> to return only 3D rotation matrix</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L102-L133">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.rotation_matrix_axis_ratios-Tuple{AbstractMatrix{var&quot;#s50&quot;} where var&quot;#s50&quot;&lt;:Real}" href="#GadgetGalaxies.rotation_matrix_axis_ratios-Tuple{AbstractMatrix{var&quot;#s50&quot;} where var&quot;#s50&quot;&lt;:Real}"><code>GadgetGalaxies.rotation_matrix_axis_ratios</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">rotation_matrix_axis_ratios(ùêà::AbstractMatrix{&lt;:Real})</code></pre><p>Returns rotation matrix <code>Q‚Åª¬π</code> and axis ratios <code>q</code> and <code>s</code> for an inertia matrix <code>ùêà</code>. <code>s</code> is <code>nothing</code> if <code>ùêà</code> is a 2D matrix. If <code>return_axes</code> is <code>true</code>, returns the same tuple with an additional element: an array of the ellipsoid axis vectors.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L490-L497">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.rotation_matrix_edgeon-Tuple{GadgetGalaxies.Particles}" href="#GadgetGalaxies.rotation_matrix_edgeon-Tuple{GadgetGalaxies.Particles}"><code>GadgetGalaxies.rotation_matrix_edgeon</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">rotation_matrix_edgeon(
    p::Particles;
    radius::Union{Number,Nothing}=nothing,
    mass_weighted::Bool=true,
    inertia_matrix_type=:unweighted,
    iterative::Bool=false,
    ellipsoidal_distance::Bool=false,
    constant_volume::Bool=true,
    algorithm::Union{Symbol,Nothing}=nothing,
    return_axes::Bool=false,
)</code></pre><p>Returns a tuple of the 3D rotation matrix for transforming the particles edge-on using the given shape determination algorithm, and the axis ratios <code>q</code> and <code>s</code>. If <code>return_axes</code> is <code>true</code>, returns the same tuple with an additional element: an array of the ellipsoid axis vectors.</p><p>See <a href="#GadgetGalaxies.inertia_matrix-Tuple{AbstractMatrix{var&quot;#s31&quot;} where var&quot;#s31&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s30&quot;} where var&quot;#s30&quot;&lt;:Number}}"><code>inertia_matrix</code></a> and <a href="#GadgetGalaxies.inertia_matrix_iterative-Tuple{AbstractMatrix{var&quot;#s29&quot;} where var&quot;#s29&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s28&quot;} where var&quot;#s28&quot;&lt;:Number}, Symbol}"><code>inertia_matrix_iterative</code></a> for the algorithms used for computing the inertia matrix.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>radius::Union{Number,Nothing}</code>: radius of the initial sphere for determining the inertia matrix (<code>nothing</code> to include all particles)</li><li><code>mass_weighted::Bool</code>: <code>true</code> if positions should be weighted by mass</li><li><code>inertia_matrix_type</code>: set to <code>:unweighted</code> or <code>:reduced</code></li><li><code>iterative::Bool</code>: <code>true</code> to use <a href="#GadgetGalaxies.inertia_matrix_iterative-Tuple{AbstractMatrix{var&quot;#s29&quot;} where var&quot;#s29&quot;&lt;:Number, Union{Nothing, AbstractVector{var&quot;#s28&quot;} where var&quot;#s28&quot;&lt;:Number}, Symbol}"><code>inertia_matrix_iterative</code></a>, <code>false</code> for <a href="@ref"><code>intertia_matrix</code></a></li><li><code>ellipsoidal_distance::Bool</code>: <code>true</code> only considered together with inertia matrix type <code>:reduced</code></li><li><code>constant_volume::Bool</code>: <code>true</code> if the sphere should be deformed into an ellipsoid with constant volue, <code>false</code> for constant major axis</li><li><code>algorithm::Union{Symbol,Nothing}</code>: one of <code>:unw</code>, <code>:red</code>, <code>:unw_i_vol</code>, <code>:unw_i_ax</code>, <code>:red_i_vol</code>, <code>:red_i_ax</code>, <code>:red_ell_i_vol</code>, <code>:red_ell_i_ax</code></li><li><code>return_axes::Bool</code>: <code>true</code> to return tuple <code>(rotmat, q, s)</code>, <code>false</code> to return only <code>rotmat</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L23-L53">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.rotation_matrix_to_3d-Union{Tuple{T}, Tuple{AbstractMatrix{T}, AbstractVector{var&quot;#s52&quot;} where var&quot;#s52&quot;&lt;:Integer}} where T&lt;:Real" href="#GadgetGalaxies.rotation_matrix_to_3d-Union{Tuple{T}, Tuple{AbstractMatrix{T}, AbstractVector{var&quot;#s52&quot;} where var&quot;#s52&quot;&lt;:Integer}} where T&lt;:Real"><code>GadgetGalaxies.rotation_matrix_to_3d</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">rotation_matrix_to_3d(R::AbstractMatrix{T}, dims::AbstractVector{&lt;:Integer}) where T&lt;:Real</code></pre><p>Converts a 2D rotation matrix <code>R</code> in the plane given by dimensions <code>dims</code> (e.g. <code>[1, 2]</code> or <code>[3, 1]</code>) to a 3D rotation matrix.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L549-L554">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.r¬≤_circle-Tuple{AbstractMatrix{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Number}" href="#GadgetGalaxies.r¬≤_circle-Tuple{AbstractMatrix{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Number}"><code>GadgetGalaxies.r¬≤_circle</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">r¬≤_circle(pos::AbstractMatrix{&lt;:Number})</code></pre><p>Squared distances in 2D from origin.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L360-L364">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.r¬≤_ellipsoid-Tuple{AbstractMatrix{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Number, Real, Nothing}" href="#GadgetGalaxies.r¬≤_ellipsoid-Tuple{AbstractMatrix{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Number, Real, Nothing}"><code>GadgetGalaxies.r¬≤_ellipsoid</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">r¬≤_ellipsoid(pos::AbstractMatrix{&lt;:Number}, q::Real, s::Nothing)</code></pre><p>Squared ellipsoidal distances in 2D from origin with axis ratio <code>q</code>.</p><p>For 3D version, see Eq. 6 in Allgood et al. 2006, https://arxiv.org/abs/astro-ph/0508497</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L382-L388">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.r¬≤_ellipsoid-Tuple{AbstractMatrix{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Number, Real, Real}" href="#GadgetGalaxies.r¬≤_ellipsoid-Tuple{AbstractMatrix{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Number, Real, Real}"><code>GadgetGalaxies.r¬≤_ellipsoid</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">r¬≤_ellipsoid(pos::AbstractMatrix{&lt;:Number}, q::Real, s::Real)</code></pre><p>Squared ellipsoidal distances from origin with axis ratios <code>q</code> and <code>s</code>.</p><p>See Eq. 6 in Allgood et al. 2006, https://arxiv.org/abs/astro-ph/0508497</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L394-L400">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.r¬≤_sphere-Tuple{AbstractMatrix{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Number}" href="#GadgetGalaxies.r¬≤_sphere-Tuple{AbstractMatrix{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Number}"><code>GadgetGalaxies.r¬≤_sphere</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">r¬≤_sphere(pos::AbstractMatrix{&lt;:Number})</code></pre><p>Squared distances from origin in 2D (calls <a href="#GadgetGalaxies.r¬≤_circle-Tuple{AbstractMatrix{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Number}"><code>r¬≤_circle</code></a> in those cases) and 3D.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L368-L372">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.shift_across_box_border-NTuple{4, Number}" href="#GadgetGalaxies.shift_across_box_border-NTuple{4, Number}"><code>GadgetGalaxies.shift_across_box_border</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">shift_across_box_border(x::Number, x‚ÇÄ::Number, boxsize::Number, boxsize_half::Number)</code></pre><p>Shift coordinate <code>x</code> across the box border if reference coordinate <code>x‚ÇÄ</code> is on the other side.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/read_halo.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.simulation_units_mass" href="#GadgetGalaxies.simulation_units_mass"><code>GadgetGalaxies.simulation_units_mass</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">simulation_units_mass(val::Number, h)
simulation_units_mass(vals::AbstractArray{&lt;:Number}, h)
simulation_units_mass!(vals::AbstractArray{&lt;:Real}, h)</code></pre><p>Converts masses via <span>$m \to m \times h_0 / 10^{10}$</span> according to the cosmology defined by the snapshot header from physical to simulation units. Unitless parameters need to be given in M‚äô.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/units.jl#L214-L222">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.simulation_units_pos" href="#GadgetGalaxies.simulation_units_pos"><code>GadgetGalaxies.simulation_units_pos</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">simulation_units_pos(val::Number, h)
simulation_units_pos(vals::AbstractArray{&lt;:Number}, h)
simulation_units_pos!(vals::AbstractArray{&lt;:Real}, h)</code></pre><p>Converts positions via <span>$x \to x \times h_0 (z+1)$</span> according to the cosmology defined by the snapshot header from physical to simulation units. Unitless parameters need to be given in kpc.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/units.jl#L214-L222">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.simulation_units_temp" href="#GadgetGalaxies.simulation_units_temp"><code>GadgetGalaxies.simulation_units_temp</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">simulation_units_temp(val::Number, h)
simulation_units_temp(vals::AbstractArray{&lt;:Number}, h)
simulation_units_temp!(vals::AbstractArray{&lt;:Real}, h)</code></pre><p>Converts temperatures via <span>$T \to T$</span> according to the cosmology defined by the snapshot header from physical to simulation units. Unitless parameters need to be given in K.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/units.jl#L214-L222">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.simulation_units_vel" href="#GadgetGalaxies.simulation_units_vel"><code>GadgetGalaxies.simulation_units_vel</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">simulation_units_vel(val::Number, h)
simulation_units_vel(vals::AbstractArray{&lt;:Number}, h)
simulation_units_vel!(vals::AbstractArray{&lt;:Real}, h)</code></pre><p>Converts velocities via <span>$v \to v \times \sqrt{z+1}$</span> according to the cosmology defined by the snapshot header from physical to simulation units. Unitless parameters need to be given in km s^-1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/units.jl#L214-L222">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.specific_angular_momentum-Tuple{AbstractMatrix{var&quot;#s35&quot;} where var&quot;#s35&quot;&lt;:Number, AbstractMatrix{var&quot;#s34&quot;} where var&quot;#s34&quot;&lt;:Number, Union{Number, AbstractVector{var&quot;#s33&quot;} where var&quot;#s33&quot;&lt;:Number}}" href="#GadgetGalaxies.specific_angular_momentum-Tuple{AbstractMatrix{var&quot;#s35&quot;} where var&quot;#s35&quot;&lt;:Number, AbstractMatrix{var&quot;#s34&quot;} where var&quot;#s34&quot;&lt;:Number, Union{Number, AbstractVector{var&quot;#s33&quot;} where var&quot;#s33&quot;&lt;:Number}}"><code>GadgetGalaxies.specific_angular_momentum</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">specific_angular_momentum(pos, vel, mass; Mtot)
specific_angular_momentum(pos, vel, mass, ellipsoid)
specific_angular_momentum(p::Particles[, ellipsoid]; Mtot)</code></pre><p>Returns the specific angular momentum <span>$j = \sum_i m_i \mathbf{r}_i \times \mathbf{v}_i / \sum_i m_i$</span> within the ellipsoid if given. Values are assumed to be in kpc, km/s, and solar masses. The total mass can be provided via <code>Mtot</code> if already known.</p><pre><code class="language-julia">using Unitful, UnitfulAstro

g::Galaxy # assume an already read-in galaxy with :full units
sph = Sphere(8u&quot;kpc&quot;)

j = specific_angular_momentum(g.stars, sph)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/kinematic_parameters.jl#L60-L77">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.spin_parameter-Tuple{AbstractVector{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Number, Number, Number}" href="#GadgetGalaxies.spin_parameter-Tuple{AbstractVector{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Number, Number, Number}"><code>GadgetGalaxies.spin_parameter</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">spin_parameter(j, Mtot)
spin_parameter(pos, vel, mass, Mtot, r)
spin_parameter(pos, vel, mass, Mtot, sphere)
spin_parameter(p::Particles, Mtot, r; mask=nothing)</code></pre><p>Returns the spin parameter <span>$\lambda(r) = j / (\sqrt{2} r v_\mathrm{circ}(r))$</span>, where <span>$j$</span> is the <a href="../kinematic_parameters/#GadgetGalaxies.specific_angular_momentum"><code>specific_angular_momentum</code></a>. The spin parameter is computed for only one particle component.</p><p>A mask can be applied to filter the particles.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/kinematic_parameters.jl#L214-L224">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.spin_parameter-Tuple{GadgetGalaxies.AbstractGalaxy, Number, Number}" href="#GadgetGalaxies.spin_parameter-Tuple{GadgetGalaxies.AbstractGalaxy, Number, Number}"><code>GadgetGalaxies.spin_parameter</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">spin_parameter(g::AbstractGalaxy, Mtot, r)</code></pre><p>Returns the total spin parameter <span>$\lambda(r) = j / (\sqrt{2} r v_\mathrm{circ}(r))$</span>, where <span>$j$</span> is the <a href="../kinematic_parameters/#GadgetGalaxies.specific_angular_momentum"><code>specific_angular_momentum</code></a>. The spin parameter is computed for all particle components.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/kinematic_parameters.jl#L274-L279">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.translate" href="#GadgetGalaxies.translate"><code>GadgetGalaxies.translate</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">translate(g::AbstractGalaxy, x‚Éó::AbstractVector{&lt;:Number}, prop::Symbol=:pos)
translate!(g::AbstractGalaxy, x‚Éó::AbstractVector{&lt;:Number}, prop::Symbol=:pos)</code></pre><p>Translates the galaxy <code>g</code> by the vector <code>x‚Éó</code>.</p><p>The non-in-place version <code>translate</code> creates a copy of the galaxy with only new pointers to the property and copies of the particle Dicts.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L187-L195">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.translate" href="#GadgetGalaxies.translate"><code>GadgetGalaxies.translate</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">translate(p::Particles, x‚Éó::AbstractVector{&lt;:Number}, prop::Symbol=:pos)
translate!(p::Particles, x‚Éó::AbstractVector{&lt;:Number}, prop::Symbol=:pos)</code></pre><p>Translates the particles <code>p</code> by the vector <code>x‚Éó</code>.</p><p>The non-in-place version <code>translate</code> creates a copy of the particles with only new pointers to the property.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L154-L162">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.translate_to_center_of_mass_iterative" href="#GadgetGalaxies.translate_to_center_of_mass_iterative"><code>GadgetGalaxies.translate_to_center_of_mass_iterative</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">translate_to_center_of_mass_iterative(g::AbstractGalaxy, r_start::Number, ptype::Symbol=:stars; kwargs...)
translate_to_center_of_mass_iterative!(g::AbstractGalaxy, r_start::Number, ptype::Symbol=:stars; kwargs...)</code></pre><p>Translates the particles to their center of mass of the particles (see <a href="#GadgetGalaxies.center_of_mass_iterative"><code>center_of_mass_iterative</code></a>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L312-L317">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.translate_to_center_of_mass_iterative-Tuple{GadgetGalaxies.Particles, Number}" href="#GadgetGalaxies.translate_to_center_of_mass_iterative-Tuple{GadgetGalaxies.Particles, Number}"><code>GadgetGalaxies.translate_to_center_of_mass_iterative</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">translate_to_center_of_mass_iterative(p::Particles, r_start::Number; kwargs...)
translate_to_center_of_mass_iterative!(p::Particles, r_start::Number; kwargs...)</code></pre><p>Translates the particles to their center of mass of the particles (see <a href="#GadgetGalaxies.center_of_mass_iterative"><code>center_of_mass_iterative</code></a>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L294-L299">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.translate_to_center_of_velocity" href="#GadgetGalaxies.translate_to_center_of_velocity"><code>GadgetGalaxies.translate_to_center_of_velocity</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">translate_to_center_of_velocity(g::AbstractGalaxy, radius::Number, ptype::Symbol=:stars; kwargs...)
translate_to_center_of_velocity!(g::AbstractGalaxy, radius::Number, ptype::Symbol=:stars; kwargs...)</code></pre><p>Translates the particles to their center of velocity of the particles (see <a href="#GadgetGalaxies.center_of_velocity"><code>center_of_velocity</code></a>). Requires &quot;POS&quot;, &quot;VEL&quot;, and &quot;MASS&quot; of the particle type to be available.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L414-L420">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.translate_to_center_of_velocity-Tuple{GadgetGalaxies.Particles, Number}" href="#GadgetGalaxies.translate_to_center_of_velocity-Tuple{GadgetGalaxies.Particles, Number}"><code>GadgetGalaxies.translate_to_center_of_velocity</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">translate_to_center_of_velocity(p::Particles, radius::Number; kwargs...)
translate_to_center_of_velocity!(p::Particles, radius::Number; kwargs...)</code></pre><p>Translates the particles to their center of velocity of the particles (see <a href="#GadgetGalaxies.center_of_velocity"><code>center_of_velocity</code></a>). Requires &quot;POS&quot;, &quot;VEL&quot;, and &quot;MASS&quot; to be available.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/transformations.jl#L395-L401">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="GadgetGalaxies.triaxiality-Tuple{Real, Real}" href="#GadgetGalaxies.triaxiality-Tuple{Real, Real}"><code>GadgetGalaxies.triaxiality</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">triaxiality(q::Real, s::Real)</code></pre><p>Triaxiality from the axis ratios <code>q</code> and <code>s</code>.</p><ul><li><span>$0 &lt; T &lt; 1/3$</span>: oblate</li><li><span>$1/3 &lt; T &lt; 2/3$</span>: triaxial</li><li><span>$2/3 &lt; T &lt; 1$</span>:   prolate</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/lucasvalenzuela/GadgetGalaxies.jl/blob/7567b64d579799e965976d3caec5570603c30f73/src/shapes.jl#L523-L531">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../kinematic_parameters/">¬´ Kinematic Parameters</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 18 May 2021 10:51">Tuesday 18 May 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
